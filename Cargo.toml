[workspace]
resolver = "2"
members = [
    "benchmarks/aunt-kg/",
    "benchmarks/fizzbuzz/",
    "benchmarks/logic-query/",
    "benchmarks/oeis/",
    "benchmarks/simple_partest/",
    "benchmarks/parmap/",
    "experiments/expr/bytestring/",
    "experiments/expr/dyck/", "experiments/symbol_mapping/bucket_map", "experiments/symbol_mapping/bucket_map_dependant_tests", "experiments/symbol_mapping/naive_map",
    "frontend/",
    "kernel/",
    "server"
]

[workspace.package]
edition = "2024"

[workspace.dependencies]
log = { version = "0.4.27" }
env_logger = "0.11.8"

# Internal to MORK
mork-bytestring = {path = "./experiments/expr/bytestring"}
mork-frontend = {path = "./frontend"}
mork = {path = "./kernel", features=[]}
bucket_map = {features = ["debug_api"], path = "./experiments/symbol_mapping/bucket_map"}

# External to MORK
freeze = { version="0.1.1", git="https://github.com/luketpeterson/Freeze.git" } #Fixes build on MacOS
gxhash = {version="3.4.1", git="https://github.com/luketpeterson/gxhash/"} # for dag_serialization

[workspace.dependencies.pathmap]
git = "https://github.com/Adam-Vandervorst/PathMap.git"
features = ["jemalloc", "zipper_tracking", "arena_compact"]
branch = "zipper_root_nodes" # we should only stay on this branch until path serialization in the server is not in master.
# features = ["jemalloc", "zipper_tracking", "arena_compact", "all_dense_nodes"]
